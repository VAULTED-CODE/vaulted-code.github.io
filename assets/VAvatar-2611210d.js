import{m as C,d as W,e as Q,h as q,u as D,b as X,a as Z,f as p}from"./VRow-658760ab.js";import{q as T,al as ee,am as te,an as E,p as B,u as N,ao as ae,T as re,ap as M,w as ne,g as se,s as h,r as le,c as I,B as k,aq as ie,Y as oe,m as ue,K as x,O as ce,t as s,P as de,f as ve,L as ge,J as me,v as fe,x as ye}from"./index-dbc41064.js";import{m as Se,i as be,b as _e,c as he,d as Ve,j as Pe,e as ze,V as Ie,g as ke}from"./index-91592558.js";import{m as Ce,a as F}from"./VCol-5565b1c5.js";function We(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",l=arguments.length>2?arguments[2]:void 0;return T()({name:l??ee(te(e.replace(/__/g,"-"))),props:{tag:{type:String,default:i},...C()},setup(t,v){let{slots:u}=v;return()=>{var g;return E(t.tag,{class:[e,t.class],style:t.style},(g=u.default)==null?void 0:g.call(u))}}})}const Te=B({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),V=(e,i)=>{let{slots:l}=i;const{transition:t,disabled:v,group:u,...g}=e,{component:m=u?ae:re,...f}=typeof t=="object"?t:{};return E(m,N(typeof t=="string"?{name:v?"":t}:f,typeof t=="string"?{}:Object.fromEntries(Object.entries({disabled:v,group:u}).filter(r=>{let[n,c]=r;return c!==void 0})),g),l)};function Be(e,i){if(!M)return;const l=i.modifiers||{},t=i.value,{handler:v,options:u}=typeof t=="object"?t:{handler:t,options:{}},g=new IntersectionObserver(function(){var c;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;const r=(c=e._observe)==null?void 0:c[i.instance.$.uid];if(!r)return;const n=m.some(S=>S.isIntersecting);v&&(!l.quiet||r.init)&&(!l.once||n||r.init)&&v(n,m,f),n&&l.once?H(e,i):r.init=!0},u);e._observe=Object(e._observe),e._observe[i.instance.$.uid]={init:!1,observer:g},g.observe(e)}function H(e,i){var t;const l=(t=e._observe)==null?void 0:t[i.instance.$.uid];l&&(l.observer.unobserve(e),delete e._observe[i.instance.$.uid])}const Re={mounted:Be,unmounted:H},je=Re,we=B({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Ce(),...C(),...W(),...Te()},"VImg"),Oe=T()({name:"VImg",directives:{intersect:je},props:we(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,i){let{emit:l,slots:t}=i;const{backgroundColorClasses:v,backgroundColorStyles:u}=Q(ne(e,"color")),{roundedClasses:g}=q(e),m=se("VImg"),f=h(""),r=le(),n=h(e.eager?"loading":"idle"),c=h(),S=h(),d=I(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),b=I(()=>d.value.aspect||c.value/S.value||0);k(()=>e.src,()=>{P(n.value!=="idle")}),k(b,(a,o)=>{!a&&o&&r.value&&_(r.value)}),ie(()=>P());function P(a){if(!(e.eager&&a)&&!(M&&!a&&!e.eager)){if(n.value="loading",d.value.lazySrc){const o=new Image;o.src=d.value.lazySrc,_(o,null)}d.value.src&&oe(()=>{var o;l("loadstart",((o=r.value)==null?void 0:o.currentSrc)||d.value.src),setTimeout(()=>{var y;if(!m.isUnmounted)if((y=r.value)!=null&&y.complete){if(r.value.naturalWidth||j(),n.value==="error")return;b.value||_(r.value,null),n.value==="loading"&&R()}else b.value||_(r.value),w()})})}}function R(){var a;m.isUnmounted||(w(),_(r.value),n.value="loaded",l("load",((a=r.value)==null?void 0:a.currentSrc)||d.value.src))}function j(){var a;m.isUnmounted||(n.value="error",l("error",((a=r.value)==null?void 0:a.currentSrc)||d.value.src))}function w(){const a=r.value;a&&(f.value=a.currentSrc||a.src)}let z=-1;ue(()=>{clearTimeout(z)});function _(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const y=()=>{if(clearTimeout(z),m.isUnmounted)return;const{naturalHeight:U,naturalWidth:$}=a;U||$?(c.value=$,S.value=U):!a.complete&&n.value==="loading"&&o!=null?z=window.setTimeout(y,o):(a.currentSrc.endsWith(".svg")||a.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,S.value=1)};y()}const O=I(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),L=()=>{var y;if(!d.value.src||n.value==="idle")return null;const a=s("img",{class:["v-img__img",O.value],style:{objectPosition:e.position},src:d.value.src,srcset:d.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:r,onLoad:R,onError:j},null),o=(y=t.sources)==null?void 0:y.call(t);return s(V,{transition:e.transition,appear:!0},{default:()=>[x(o?s("picture",{class:"v-img__picture"},[o,a]):a,[[ge,n.value==="loaded"]])]})},G=()=>s(V,{transition:e.transition},{default:()=>[d.value.lazySrc&&n.value!=="loaded"&&s("img",{class:["v-img__img","v-img__img--preload",O.value],style:{objectPosition:e.position},src:d.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),J=()=>t.placeholder?s(V,{transition:e.transition,appear:!0},{default:()=>[(n.value==="loading"||n.value==="error"&&!t.error)&&s("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,K=()=>t.error?s(V,{transition:e.transition,appear:!0},{default:()=>[n.value==="error"&&s("div",{class:"v-img__error"},[t.error()])]}):null,Y=()=>e.gradient?s("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,A=h(!1);{const a=k(b,o=>{o&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.value=!0})}),a())})}return D(()=>{const a=F.filterProps(e);return x(s(F,N({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!A.value},v.value,g.value,e.class],style:[{width:ve(e.width==="auto"?c.value:e.width)},u.value,e.style]},a,{aspectRatio:b.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>s(de,null,[s(L,null,null),s(G,null,null),s(Y,null,null),s(J,null,null),s(K,null,null)]),default:t.default}),[[ce("intersect"),{handler:P,options:e.options},null,{once:!0}]])}),{currentSrc:f,image:r,state:n,naturalWidth:c,naturalHeight:S}}});const Ae=B({start:Boolean,end:Boolean,icon:me,image:String,text:String,...X(),...C(),...Se(),...W(),...be(),...Z(),...fe(),..._e({variant:"flat"})},"VAvatar"),qe=T()({name:"VAvatar",props:Ae(),setup(e,i){let{slots:l}=i;const{themeClasses:t}=ye(e),{borderClasses:v}=p(e),{colorClasses:u,colorStyles:g,variantClasses:m}=he(e),{densityClasses:f}=Ve(e),{roundedClasses:r}=q(e),{sizeClasses:n,sizeStyles:c}=Pe(e);return D(()=>s(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},t.value,v.value,u.value,f.value,r.value,n.value,m.value,e.class],style:[g.value,c.value,e.style]},{default:()=>[l.default?s(Ie,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[l.default()]}):e.image?s(Oe,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?s(ze,{key:"icon",icon:e.icon},null):e.text,ke(!1,"v-avatar")]})),{}}});export{V as M,Oe as V,qe as a,We as c,Te as m};
