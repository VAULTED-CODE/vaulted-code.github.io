import{m as F,u as R,_ as w,V as k,r as B}from"./VRow-b5fe3af0.js";import{V as M}from"./VSheet-6089425b.js";import{p as b,D as x,c as y,s as C,r as h,B as P,d as S,aG as D,w as E,q as O,t as m,a9 as q,ad as G,ab as p}from"./index-f61178ef.js";import{f as K}from"./forwardRefs-8348545e.js";const N=Symbol.for("vuetify:form"),j=b({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function z(r){const d=x(r,"modelValue"),f=y(()=>r.disabled),c=y(()=>r.readonly),o=C(!1),a=h([]),u=h([]);async function v(){const e=[];let s=!0;u.value=[],o.value=!0;for(const l of a.value){const t=await l.validate();if(t.length>0&&(s=!1,e.push({id:l.id,errorMessages:t})),!s&&r.fastFail)break}return u.value=e,o.value=!1,{valid:s,errors:u.value}}function n(){a.value.forEach(e=>e.reset())}function i(){a.value.forEach(e=>e.resetValidation())}return P(a,()=>{let e=0,s=0;const l=[];for(const t of a.value)t.isValid===!1?(s++,l.push({id:t.id,errorMessages:t.errorMessages})):t.isValid===!0&&e++;u.value=l,d.value=s>0?!1:e===a.value.length?!0:null},{deep:!0,flush:"post"}),S(N,{register:e=>{let{id:s,vm:l,validate:t,reset:V,resetValidation:g}=e;a.value.some(_=>_.id===s),a.value.push({id:s,validate:t,reset:V,resetValidation:g,vm:D(l),isValid:null,errorMessages:[]})},unregister:e=>{a.value=a.value.filter(s=>s.id!==e)},update:(e,s,l)=>{const t=a.value.find(V=>V.id===e);t&&(t.isValid=s,t.errorMessages=l)},isDisabled:f,isReadonly:c,isValidating:o,isValid:d,items:a,validateOn:E(r,"validateOn")}),{errors:u,isDisabled:f,isReadonly:c,isValidating:o,isValid:d,items:a,validate:v,reset:n,resetValidation:i}}const A=b({...F(),...j()},"VForm"),H=O()({name:"VForm",props:A(),emits:{"update:modelValue":r=>!0,submit:r=>!0},setup(r,d){let{slots:f,emit:c}=d;const o=z(r),a=h();function u(n){n.preventDefault(),o.reset()}function v(n){const i=n,e=o.validate();i.then=e.then.bind(e),i.catch=e.catch.bind(e),i.finally=e.finally.bind(e),c("submit",i),i.defaultPrevented||e.then(s=>{var t;let{valid:l}=s;l&&((t=a.value)==null||t.submit())}),i.preventDefault()}return R(()=>{var n;return m("form",{ref:a,class:["v-form",r.class],style:r.style,novalidate:!0,onReset:u,onSubmit:v},[(n=f.default)==null?void 0:n.call(f,o)])}),K(o,a)}}),I={};function J(r,d){return q(),G(M,{class:"bg-white py-16"},{default:p(()=>[m(H,null,{default:p(()=>[m(k,null,{default:p(()=>[m(B)]),_:1})]),_:1})]),_:1})}const W=w(I,[["render",J]]);export{W as default};
